<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customizable Text Logo</title>
    <style>
        @font-face {
            font-family: 'VintageHat';
            src: url('VintageHat.OTF') format('opentype');
        }
        .container {
            font-family: 'Roboto', sans-serif;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .controls label {
            font-weight: 500;
            margin-right: 10px;
        }
        .controls input[type="text"] {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .controls button {
            background-color: #6200ea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .controls button:hover {
            background-color: #3700b3;
        }
        .color-option {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 5px;
            cursor: pointer;
        }

        #fontColorPicker, #lineColorPicker {
  display: flex;
  flex-direction: row;
}

    </style>
</head>
<body>

<div class="container">
    <h1>Customize Your Text Logo</h1>
    <canvas id="logoCanvas" width="800" height="309.487"></canvas>
    <div class="controls">
        <label for="topText">Top Text:</label>
        <input type="text" id="topText">
        <label for="bottomText">Bottom Text:</label>
        <input type="text" id="bottomText">
        <label>Font Color:</label>
        <div id="fontColorPicker"></div>
        <label>Line Color:</label>
        <div id="lineColorPicker"></div>
        <button id="undoBtn">Undo</button>
        <button id="downloadBtn">Download SVG</button>
    </div>
</div>

<script src="fabric/fabric.js"></script>
<script>
    document.fonts.load('1em "VintageHat"').then(function () {
        const canvas = new fabric.Canvas('logoCanvas');
        let loadedObject;
        let topText, bottomText;

    fabric.loadSVGFromURL('SVG.svg', function (objects, options) {
  loadedObject = fabric.util.groupSVGElements(objects, options);
  loadedObject.set({
    left: canvas.width / 2,
    top: canvas.height / 2,
    scaleX: 0.5,
    scaleY: 0.5,
    originX: 'center',
    originY: 'center'
  });
  canvas.add(loadedObject).renderAll();
});


        function generateColorOptions(elementId, colors, callback) {
            const container = document.getElementById(elementId);
            colors.forEach(color => {
                const colorOption = document.createElement('div');
                colorOption.classList.add('color-option');
                colorOption.style.backgroundColor = color.value;
                colorOption.title = color.label;
                colorOption.addEventListener('click', () => {
                    callback(color.value);
                });
                container.appendChild(colorOption);
            });
        }

        const colorOptions = [
            {value: '#000000', label: 'Black'},
            {value: '#ffffff', label: 'White'},
            // Add more colors here
        ];

        generateColorOptions('fontColorPicker', colorOptions, (color) => {
            if (topText) {
                topText.set({fill: color});
                canvas.renderAll();
            }
        });

        generateColorOptions('lineColorPicker', colorOptions, (color) => {
            if (loadedObject) {
                loadedObject.set({stroke: color});
                canvas.renderAll();
            }
        });


        function addTopText(position, text, color) {
  const newText = new fabric.Text(text, {
    left: canvas.width / 2,
    top: position,
    fill: color,
    fontSize: 48,
    fontFamily: 'VintageHat',
    originX: 'center',
    originY: 'center'
  });
  return newText;
}

document.getElementById('topText').addEventListener('input', function () {
  if (topText) {
    canvas.remove(topText);
  }
  topText = addTopText(100, this.value, '#000000');
  canvas.add(topText);
  canvas.renderAll();
});


        
function addBottomText(position, text, color) {
  const newText = new fabric.Text(text, {
    left: canvas.width / 2,
    top: position - 30,
    fill: color,
    fontSize: 24,
    fontFamily: 'VintageHat',
    originX: 'center',
    originY: 'center'
  });
  return newText;
}

document.getElementById('bottomText').addEventListener('input', function () {
  if (bottomText) {
    canvas.remove(bottomText);
  }
  bottomText = addBottomText(300, this.value, '#000000');
  canvas.add(bottomText);
  canvas.renderAll();
});


        document.getElementById('downloadBtn').addEventListener('click', function () {
            const svgData = canvas.toSVG();
            const blob = new Blob([svgData], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'custom_logo.svg';
            a.click();
            URL.revokeObjectURL(url);
        });
    });
</script>

</body>
</html>
