<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Customizable Text Logo</title>
    <style>
        @font-face {
            font-family: 'VintageHat';
            src: url('VintageHat.OTF') format('opentype');
        }
        .container {
            font-family: 'Roboto', sans-serif;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .controls label {
            font-weight: 500;
            margin-right: 10px;
        }
        .controls input[type="text"] {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .controls button {
            background-color: #6200ea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .controls button:hover {
            background-color: #3700b3;
        }
        .color-option {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 5px;
            cursor: pointer;
        }

        #fontColorPicker, #lineColorPicker {
  display: flex;
  flex-direction: row;
}

    </style>
</head>
<body>

<div class="container">
    <h1>Customize Your Text Logo</h1>
    <canvas id="logoCanvas" width="800" height="309.487"></canvas>
    <div class="controls">
        <label for="topText">Top Text:</label>
        <input type="text" id="topText">
        <label for="bottomText">Bottom Text:</label>
        <input type="text" id="bottomText">
        <label>Font Color:</label>
        <div id="fontColorPicker"></div>
        <label>Line Color:</label>
        <div id="lineColorPicker"></div>
<input type="range" id="svgWidthSlider" min="50" max="500" value="182">
        <button id="downloadBtn">Download SVG</button>
    </div>
</div>

<script src="fabric/fabric.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script>
    document.fonts.load('1em "VintageHat"').then(function () {
        const canvas = new fabric.Canvas('logoCanvas');
        let loadedObject;
        let topText, bottomText;

fabric.loadSVGFromURL('SVG.svg', function (objects, options) {
  loadedObject = fabric.util.groupSVGElements(objects, options);
  const scaleFactor = 182.598 / loadedObject.height;
  loadedObject.set({
    left: canvas.width / 2,
    top: canvas.height / 2,
    scaleX: scaleFactor,
    scaleY: scaleFactor,
    originX: 'center',
    originY: 'center'
  });
  canvas.add(loadedObject);

  // Initialize default text for top and bottom
  topText = addTopText(122, "TEAM", "#000000");
  canvas.add(topText);
  
  bottomText = addBottomText(208.8, "LACROSSE", "#000000");
  canvas.add(bottomText);

  canvas.renderAll();
});

        function generateColorOptions(elementId, colors, callback) {
            const container = document.getElementById(elementId);
            colors.forEach(color => {
                const colorOption = document.createElement('div');
                colorOption.classList.add('color-option');
                colorOption.style.backgroundColor = color.value;
                colorOption.title = color.label;
                colorOption.addEventListener('click', () => {
                    callback(color.value);
                });
                container.appendChild(colorOption);
            });
        }

    const colorOptions = [
  { value: '#ffffff', label: 'White' },
  { value: '#a2a9ad', label: 'Grey' },
  { value: '#0D131A', label: 'Black' },
  { value: '#373a36', label: 'Dark Grey' },
  { value: '#513629', label: 'Brown' },
  { value: '#d0b787', label: 'Vegas Khaki' },
  { value: '#85714D', label: 'Metallic Gold' },
  { value: '#12284b', label: 'Navy Blue' },
  { value: '#114734', label: 'Forest Green' },
  { value: '#007940', label: 'Kelly Green' },
  { value: '#006271', label: 'Deep Teal' },
  { value: '#00b1bd', label: 'Light Teal' },
  { value: '#6fa2e4', label: 'Nike Carolina' },
  { value: '#418fde', label: 'Hopkins Blue' },
  { value: '#174293', label: 'Nike Cobalt' },
  { value: '#6dd6ff', label: 'Cascade Carolina' },
  { value: '#80fff3', label: 'Seafoam' },
  { value: '#93d500', label: 'Lime Green' },
  { value: '#03db48', label: 'Electric Green' },
  { value: '#ffb71b', label: 'Athletic Gold' },
  { value: '#fff200', label: 'Yellow' },
  { value: '#ee3724', label: 'Nike Orange' },
  { value: '#ff5219', label: 'Cascade Orange' },
  { value: '#FF8200', label: 'Tennesee Orange' },
  { value: '#592d82', label: 'Purple' },
  { value: '#f732a1', label: 'Hot Pink' },
  { value: '#ffa5d8', label: 'Light Pink' },
  { value: '#6e0624', label: 'Burgundy' },
  { value: '#50131f', label: 'Deep Burgundy' },
  { value: '#A41034', label: 'Crimson' },
  { value: '#d00120', label: 'Scarlet Red' },
  { value: '#CD5A13', label: 'Texas Orange' }
];


 generateColorOptions('fontColorPicker', colorOptions, (color) => {
  if (topText) {
    topText.set({ fill: color });
  }
  if (bottomText) {
    bottomText.set({ fill: color });
  }
  canvas.renderAll();
});


        generateColorOptions('lineColorPicker', colorOptions, (color) => {
            if (loadedObject) {
                loadedObject.set({fill: color});
                canvas.renderAll();
            }
        });



// Adding top text
function addTopText(position, text, color) {
  const newText = new fabric.Text(text, {
    left: canvas.width / 2,
    top: position,
    fill: color,
    fontSize: 107,
    fontFamily: 'VintageHat',
    originX: 'center',
    originY: 'center'
  });
  return newText;
}

document.getElementById('topText').addEventListener('input', function () {
  if (topText) {
    canvas.remove(topText);
  }
  topText = addTopText(122, this.value, '#000000');
  canvas.add(topText);
  canvas.renderAll();
});

// Adding bottom text
function addBottomText(position, text, color) {
  const newText = new fabric.Text(text, {
    left: canvas.width / 2,
    top: position,
    fill: color,
    fontSize: 66.6757,
    fontFamily: 'VintageHat',
    originX: 'center',
    originY: 'center'
  });
  return newText;
}

document.getElementById('bottomText').addEventListener('input', function () {
  if (bottomText) {
    canvas.remove(bottomText);
  }
  bottomText = addBottomText(208.8, this.value, '#000000');
  canvas.add(bottomText);
  canvas.renderAll();
});

        document.getElementById('svgWidthSlider').addEventListener('input', function() {
  if (loadedObject) {
    const newWidth = parseFloat(this.value);
    const scaleFactor = newWidth / loadedObject.getScaledWidth();
    
    loadedObject.set({
      scaleX: loadedObject.scaleX * scaleFactor
    });

    canvas.renderAll();
  }
});


function textToPath(textObject, callback) {
  if (!textObject) return;

  const textAsSVG = textObject.toSVG();
  fabric.loadSVGFromString(textAsSVG, function (objects, options) {
    const pathObject = fabric.util.groupSVGElements(objects, options);
    pathObject.set({
      left: textObject.left,
      top: textObject.top,
      fill: textObject.fill,
      originX: 'center',
      originY: 'center'
    });
    callback(pathObject);
  });
}

document.getElementById('downloadBtn').addEventListener('click', async function () {
    const [topTextPath, bottomTextPath] = await Promise.all([
        new Promise(resolve => textToPath(topText, resolve)),
        new Promise(resolve => textToPath(bottomText, resolve))
    ]);

    if (topText) canvas.remove(topText);
    if (bottomText) canvas.remove(bottomText);
    if (topTextPath) canvas.add(topTextPath);
    if (bottomTextPath) canvas.add(bottomTextPath);

    const svgData = canvas.toSVG();

    if (topTextPath) canvas.remove(topTextPath);
    if (bottomTextPath) canvas.remove(bottomTextPath);
    if (topText) canvas.add(topText);
    if (bottomText) canvas.add(bottomText);

    const pdf = new jsPDF();
    pdf.svg(svgData, {
        x: 0,
        y: 0,
        width: 210,
        height: 297,
    });
    pdf.save('custom_logo.pdf');
});



        
    });
</script>

</body>
</html>
